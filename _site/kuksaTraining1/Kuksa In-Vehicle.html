<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>8 Kuksa In-Vehicle platform | Jekyll theme for documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="documentation-theme-jekyll" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Kuksa Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/M3SResearch/kuksadoc" target="_blank" rel="noopener">GitHub</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Kuksa Help<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://talk.jekyllrb.com" target="_blank" rel="noopener">Jekyll Talk</a></li>
                        
                        
                        
                        <li><a href="http://jekyllrb.com/docs/home/" target="_blank" rel="noopener">Jekyll documentation</a></li>
                        
                        
                        
                        <li><a href="http://stackoverflow.com/questions/tagged/jekyll" target="_blank" rel="noopener">Jekyll on Stack Overflow</a></li>
                        
                        
                        
                        <li><a href="http://idratherbewriting.com/category-jekyll/" target="_blank" rel="noopener">Jekyll on my blog</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Products<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="mydoc_introduction.html">Kuksa</a></li>
                        
                        
                        
                        <li><a href="p1_landing_page.html">kuksa first release</a></li>
                        
                        
                        
                        <li><a href="p2_landing_page.html">kuksa second release</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:tomjoht@gmail.com?subject=Jekyll documentation theme feedback&body=I have some feedback about the 8 Kuksa In-Vehicle platform page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="8 Kuksa In-Vehicle platform">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a title="Products" href="#">Products</a>
      <ul>
          
          
          
          <li><a title="News" href="news.html">News</a></li>
          
          
          
          
          
          
          <li><a title="Theme instructions" href="mydoc_introduction.html">Theme instructions</a></li>
          
          
          
          
          
          
          <li><a title="Product 1" href="p1_landing_page.html">Product 1</a></li>
          
          
          
          
          
          
          <li><a title="Product 2" href="p2_landing_page.html">Product 2</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">8 Kuksa In-Vehicle platform</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" rel="noopener" href="https://github.com/tomjoht/documentation-theme-jekyll/blob/gh-pages/kuksaTraining1/Kuksa In-Vehicle.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

   <h1 id="8-kuksa-in-vehicle-platform"><strong>8 Kuksa In-Vehicle platform</strong></h1>

<h2 id="81-getting-started-with-the-in-vehicle-platoform">8.1 Getting started with the In-vehicle platoform</h2>

<p><a href="https://www.eclipse.org/kuksa/">Eclipse Kuksa</a> includes an open and secure cloud platform that interconnects a wide range of vehicles to the cloud via open in-car and Internet connection and is supported by an integrated open source software development ecosystem. The Eclipse Kuksa project conatins a set of repositories and this repo is one among those that contains in-vehicle platform code and also contains required layers and bindings to build a Kuksa adapted AGL (Automotive Grade Linux) distribution. The in-vehicle platform is primarily designed to work with AGL. However the individual components found in <a href="https://github.com/eclipse/kuksa.invehicle">this repo</a> could be used on other platforms as well.</p>

<p>Kuksa is a wrapper project around Automotive Grade Linux (AGL). From its side, AGL uses Yocto/Bitbake building system to build an automotive domain specific Linux distribution. Therefore, this projects provides a building system that adds Kuksa’s specific Bitbake layers on top of the original AGL. The scripts in this project help ease the process of building an AGL image by simple using a few commands. This project includes the yocto recipes found in meta-kuksa project.</p>

<h2 id="811-required-system-configuration-hwsw">8.1.1 Required System Configuration (HW/SW)</h2>

<p>In order to Build the Image/SDK with cmake scripts, the required system configuration both (hardware and software) are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Need Ubuntu 16

Fast Internet connection.

Minimum of 100 GB memory.

Some patience as it takes about 8 hours the first time.
</code></pre></div></div>

<p>To build the Image/SDK, run;</p>

<p>cd <agl-kuksa-root>
  mkdir build
  cd build
  cmake ..
  make <agl-kuksa-target></agl-kuksa-target></agl-kuksa-root></p>

<p>Where <agl-kuksa-target> can be;</agl-kuksa-target></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>agl-kuksa-sdk: AGL kuksa image and SDK
agl-kuksa: AGL kuksa Image only
Other Targets to follow.
</code></pre></div></div>

<p>The output images can be seen at <agl-kuksa-root>/build/images and the SDKs at <agl-kuksa-root>/build/sdk.</agl-kuksa-root></agl-kuksa-root></p>

<p>To set up and build the Image using yocto/bitbake, the neccessary prerequisites are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Need Ubuntu 16

Fast Internet connection.

Minimum of 100 GB memory.

Some patience as it takes about 8 hours the first time.
</code></pre></div></div>

<h2 id="steps">Steps</h2>

<h2 id="setup-the-machine"><em>Setup the machine</em></h2>

<p>Execute</p>

<p>sudo apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat libsdl1.2-dev xterm cpio curl</p>

<p>This will install the necessary packages.</p>

<p>Execute</p>

<p>export AGL_TOP=$HOME/workspace_agl; mkdir -p $AGL_TOP</p>

<p>Execute</p>

<p>mkdir -p ~/bin ; export PATH=~/bin:$PATH ;curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo; chmod a+x ~/bin/repo</p>

<p>This will set up the repo tool. Repo tool is used to download the recipes for AGL image.</p>

<p>Execute</p>

<p>cd $AGL_TOP ;repo init -b flounder -m flounder_6.0.1.xml -u https://gerrit.automotivelinux.org/gerrit/AGL/AGL-repo ;repo sync</p>

<p>This will download the Funky Flounder version of AGL. This version has been tested and is recommended.</p>

<h2 id="start-building">Start Building</h2>

<p>Execute</p>

<p>source meta-agl/scripts/aglsetup.sh -m raspberrypi3 agl-demo agl-netboot agl-appfw-smack ; bitbake agl-demo-platform</p>

<p>This will start the build system and would take about 7 hours to complete if you are running for the first time, so you could take a nap :P. The Yocto/bitbake build system has a caching mechanism and hence from the next time on, this would only take a few minutes.</p>

<h2 id="adding-kuksa-layers">Adding Kuksa layers</h2>

<p>Go to $HOME/workspace_agl/build/conf folder and open bblayers.conf file.</p>

<p>Append the following lines to the end of the file.</p>

<p>BBLAYERS =+ “ \
    ${METADIR}/meta-kuksa \
    ${METADIR}/meta-kuksa/meta-kuksa-bsp \
    ${METADIR}/meta-virtualization \
“</p>

<p>Now copy the meta-kuksa folder (Link : https://github.com/eclipse/kuksa.invehicle/agl-kuksa) into the $HOME/workspace_agl directory.</p>

<h2 id="812-set-up-the-platform">8.1.2 Set up the platform</h2>

<p>To get started with In-Vehicle platform, AGL KUKSA Build and Run on Raspberry Pi 3 / Compute Module 3 (Lite) can be found from the link <a href="https://github.com/eclipse/kuksa.invehicle/tree/master/agl-kuksa">here</a>.</p>

<h2 id="building-for-the-raspberry-pi-compute-module-3-lite">Building for the Raspberry Pi Compute Module 3 (Lite)</h2>

<p>To build for the Raspberry Pi CM3 (Lite) platform, go to $HOME/workspace_agl/build/conf folder and open local.conf file.</p>

<p>Append the following lines to the end of the file.</p>

<p>KERNEL_IMAGETYPE = “zImage”</p>

<h2 id="configure-meta-kuksa-layer">Configure meta-kuksa layer</h2>

<p>The kuksa layer contains recipes for the APIs and Apps contained in Eclipse kuksa Invehicle repo.</p>

<p>The AGL image with meta-kuksa layer adds w3c-visserver-api and elm327-visdatafeeder as systemd services. It will install the datalogger apps in the respective locations /usr/bin/datalogger-<PROTOCOL></PROTOCOL></p>
<h2 id="set-up-wifi">Set up wifi</h2>

<p>— Ignore this step if wifi is not required —</p>

<p>With meta-kuksa layer the wifi connection could be set up while building an Image so that the target device connects to the specified wifi, which make it easier to ssh into the device. The wifi settings could be configured by modifying the meta-kuksa/recipes-devtools/wifi-conf/files/wifi_default.config file. Update the “Name” and the “Passphrase” of the wifi you want the device to connect to. More more secured wifi connection please refer to the link</p>

<h2 id="configure-bluetooth-connection-with-elm-327-bluetooth-adapter">configure Bluetooth connection with ELM 327 bluetooth adapter</h2>

<p>The elm327-datafeeder service connects to an ELM327 Bluetooth adapter to retrieve data from the vehicle. Hence the bluetooth connection with the ELM327 adapter needs to be established before the service starts. The BT connection can be configured by Updating the MAC-Address of the adapter along with its pairing PIN. The MAC-Addr and PIN can be updated in file meta-kuksa/recipes-elm327-visdatafeeder/elm327-visdatafeeder/files/bt_setup.sh</p>

<p>Update the fields
<img src="/ImageFile/bt_setup.png" alt="screenshot" /></p>

<p>Alt text</p>

<p>Now Execute the below line to build image with Kuksa layers</p>

<p>source meta-agl/scripts/aglsetup.sh -m raspberrypi3 agl-demo agl-netboot agl-appfw-smack ; bitbake agl-demo-platform</p>

<p>This would take a few minutes to execute and at the end of the process the bootable image for RaspberryPi 3 will be found in the below location</p>

<p>$HOME/workspace_agl/build/tmp/deploy/images/raspberrypi3</p>

<h2 id="813-connect-the-platform-to-kuksa-portal">8.1.3 Connect the platform to Kuksa portal</h2>

<p>Once the image is ready, burn it onto a SD-card and boot up the image on raspi 3. The w3c-visserver-api requires the vss_rel_1.0.json file to set up the vss tree structure. This file can be copied to the /usr/bin/w3c-visserver folder by using scp command (sample file is available under https://github.com/GENIVI/vehicle_signal_specification or could also be generated using the tools in the repo). Once the file has been copied reboot the raspi 3.</p>

<h2 id="launch-datalogger-apps">Launch Datalogger apps</h2>

<p>The Datalogger apps connect to a remote HONO-Instance and hence the IP-address of the Hono-Instance needs to be updated. The datalogger apps are already installed if you have followed the above steps. Now update the Hono configuration in the file /usr/bin/datalogger-*/start.sh with valid IP-address for the respective adapters ( eg: HTTP and MQTT), Port, Device and password for Hono.</p>

<p>And you could start the datalogger apps by executing ./usr/bin/datalogger-*/start.sh</p>

<p>The apps connect to the w3c-visserver service using a websocket connection and retrieves Signal.OBD.RPM and Signal.OBD.Speed values to send to hono by packing the retrieved data into a json which looks like this {SPEED:xxx} &amp; {RPM:yyy}</p>

<p>The Datalogger example for kuksa-app which connects to the w3c-visserver service via Websocket and talks to the Eclipse Hono MQTT adapter are :- <a href="https://github.com/eclipse/kuksa.invehicle/tree/master/datalogger-http">DataLogger-HTTP app</a> and <a href="https://github.com/eclipse/kuksa.invehicle/tree/master/datalogger-mqtt">DataLogger-Mqtt</a>.</p>

<h2 id="-814-search-for-an-in-vehicle-app-"><span style="color:red"> <em>8.1.4 Search for an In-Vehicle App</em> </span></h2>

<h2 id="815-install-an-in-vehicle-app">8.1.5 Install an In-Vehicle App</h2>

<p>In-vehicle application software installation/update</p>

<p>– Admin user shall be able to perform a command to install or update In-vehicle application software from management web page of OTA server. For this purpose, OTA server shall send a message to the OTA client running on In-vehicle platform.’</p>

<p>This message shall include the name of last version of the software and binary file repository link of the software.</p>

<p>– OTA client shall handle the message coming from OTA server and install or update In-vehicle application software from the binary file repository link. OTA client shall reply a message to the OTA server about the status of installation (succeeded or failed).</p>

<p>– OTA client shall display a status message on HMI after software installation process is completed.
– OTA server shall keep and maintain the data as a time series data in OTA server database.</p>

<h2 id="installing-roverapp">Installing RoverApp</h2>

<p>This tutorial <a href="https://app4mc-rover.github.io/rover-docs/content/installation.html#">link</a> contains how to set up a Rover-specific Raspbian image from scratch and the basic workflow to run the Roverapp applications.</p>

<h2 id="-816-test-the-in-vehicle-app-"><span style="color:red"> <em>8.1.6 Test the In-Vehicle App</em> </span></h2>

<h2 id="-82-configure-the-in-vehicle-platform-"><span style="color:red"> <em>8.2 Configure the In-Vehicle platform</em> </span></h2>

<h2 id="83-overview-of-the-in-vehicle-platform-and-its-architecture">8.3 Overview of the In-Vehicle platform and its architecture.</h2>

<h2 id="in-vehicle-platform">In-Vehicle Platform</h2>

<p>The APPSTACLE environment is created to provide addon services to the connected vehicles. This provides a complite functionality of the vehicles through deploying the <em>Apps</em> on the in-vehicle platform. Therefore, three layers of components are required to enable this purpose:</p>

<p><strong>Core Layer</strong>: Contains the in-vehicle platform components, such as operating system and application runtime. It, furthermore, allows the vehicle owner to interact with the vehicle, e.g., via smartphone access. In addition, it provides an intrface to the 5G infrastructure similar to the core layer of the cloud back-end.</p>

<p><strong>API / Binding Layer</strong>: consists of relevant APIs and components for internal and external communication.</p>

<p><strong>Application Layer</strong>: It represents the arrangement of all Apps that are running within the in-vehicle platform. Some of the Eclipse base Open source solutions to inreach kuksa components are:</p>
<ul>
  <li>Automotive Grade Linux (AGL)</li>
  <li>Eclipse hawkBit</li>
  <li>Eclipse Hono</li>
  <li>Eclipse Ditto</li>
  <li>Eclipse Che</li>
  <li>Keycloak</li>
  <li>…</li>
</ul>

<p><img src="../ImageFile/kuksaComponents.png" width="750" height="300" /></p>

<p><em>Figure 2. Eclipse base Open source solutions to inreach kuksa components</em></p>

<p><em>(source:https://www.researchgate.net/profile/Marco_Wagner2/publication/330281127_Innovation_through_Openness_-_The_Open_Source_Connected_Vehicle_Framework_Eclipse_Kuksa/links/5c371b5892851c22a3691df8/Innovation-through-Openness-The-Open-Source-Connected-Vehicle-Framework-Eclipse-Kuksa.pdf?origin=publication_detail)</em></p>

<p>The in-vehicle platform addtionally provides means for rertrieving telemetry data collected by the vehicle itself as well as a human machine interface (HMI ) for user interaction.</p>

<h2 id="in-vehicle-connectivity-">In-vehicle connectivity :</h2>

<p>This section provides an overview of the communication protocols that are currently used in the existing automotive architectures as well as their interconnections in the Electrical / Electronic (E/E) in-vehicle architecture.
The scope of these protocols defines the in-vehicle communication interfaces for
the APPSTACLE platform.</p>

<h2 id="protocols">Protocols</h2>

<p>Automotive protocols are classified by the Society of Automotive Engineers (SAE) into four categories according to the transmission rate and their role in the automotive architecture. Specifically, Class A defines the protocols that are used for convenience systems (e.g. lighting, windows, seatcontrols) and require inexpensive, low-speed communication. Class B defines the protocols supporting instrument cluster or vehicle speed communication and require medium-speed communication. Furthermore, Class C is defined for real-time control ECUs such as the engine, braking and steer-by-wire and require high-speed communication. Finally, telematics systems usually require higher communication speed for multimedia (audio / video) and navigation, and therefore SAE defined the additional Class D communications. All four protocol Class categories are illustrated in <span style="color:lightblue">Table 1</span> along with the protocols that belong to each category and are used for in-vehicle communication in terms of their characteristics.</p>

<p><img src="/ImageFile/AutomotiveNetwork.png" alt="AutomotiveNetwork" /></p>

<p>Firugre 3. Automotive Network.</p>

<p>### <em>Table 1.: Characteristics of the communication protocols</em></p>

<table>
  <thead>
    <tr>
      <th>Bus</th>
      <th>LIN</th>
      <th>CAN</th>
      <th>CAN FD</th>
      <th>FlexRay</th>
      <th>MOST</th>
      <th>Automotive Ethernet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Used in Application domains Message transmission Access control Maximum Data Rate Protocol Class</td>
      <td>Subnets Body Soft Synchronous Polling 20 kbps A</td>
      <td>Soft real-time Powertrain, Chassis Asynchronous CSMA/CA 1 Mbps BC</td>
      <td>Soft real-time a a CSMA/CA 10 Mbps D</td>
      <td>Hard real-time Chassis, Powertrain Synchronous and Asynchronous TDMA 10 Mbps D</td>
      <td>Multimedia Multimedia and Telematics Synchronous and Asynchronous CSMA/CA 24Mbps D</td>
      <td>Multimedia Telematics and active safety Synchronous and Asynchronous CSMA/CD 100Mbps D</td>
    </tr>
  </tbody>
</table>

<p>## Architectural Overview of In-vehicle</p>

<p>Modern automotive embedded systems consist of several subsystems, which are comprised of one
or several Electronic Control Units (ECUs). In turn, the ECUs are made up of a micro-controller
and a set of sensors and actuators. They are able to communicate through the transmission of
electronic or optical signals through a dedicated communication unit. The subsystems that rely on network communication in automotive systems are divided into five main categories: power train, chassis, body, HMI, and telematics (illustrated in <span style="color:lightblue">Figure 3</span>). Each subsystem uses a different protocol to communicate, which is selected based on the architectural requirements and the subsystem functionality. Specifically, the powertrain domain is related to the systems that participate in the longitudinal propulsion of the vehicle,including engine, transmission and all subsidiary components. This domain is supported by a dedicated subsystem called Drive CAN using the Controller Area Network (CAN) for data exchange. The chassis domain refers to the four wheels and their relative position and movement; in this domain the systems are mainly steering and braking. In this subsystem category we find two protocols that are used for high-critical communication, namely CAN and FlexRay, as well as the Local Interconnect Network (LIN) for the lower critical functionalities (e.g. door locking, window raising / lowering). According to the EAST-EEA 1 project definition the body domain includes the entities that do not belong to the vehicle dynamics (i.e., being those that support the car’s user) such as airbags, wipers, lighting, etc. Today’s cars sometimes use two CAN buses (peripheral CAN and body CAN) which interconnect the ECUs of the comfort domain. The telematics domain includes the equipment allowing information exchange between electronic systems and the driver (displays and switches). Such interactions are possible through the infotainment subsystem that is supported by the MOST protocol. Finally additional peripheral systems (e.g.,cameras) allow the in-vehicle system to monitor and extract information from its physical environment through the use of Automotive Ethernet technologies. All the aforementioned systems are able to exchange data through a central gateway (<span style="color:lightblue">Figure 3</span>) that is able to map (through packet encapsulation) or forward messages from one subsystem to another.</p>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>It enables communication with the infotainment unit or the ECUs internal to the vehicle</td>
      <td> </td>
    </tr>
    <tr>
      <td>2.</td>
      <td>• Telemetry data or data specified in the Cloud platform related to internal vehicle functionalities.</td>
      <td>• Vehicle diagnostics (e.g. health monitoring).</td>
    </tr>
    <tr>
      <td> </td>
      <td>• System metadata (which components are present, heartbeats etc)</td>
      <td> </td>
    </tr>
    <tr>
      <td>3.</td>
      <td>• Interacts with the in-vehicle HW for data gathering and with the ex-vehicle connectivity for data forwarding</td>
      <td> </td>
    </tr>
    <tr>
      <td>4.</td>
      <td>• One component per vehicle with different interfaces according to the employed protocols.</td>
      <td> </td>
    </tr>
    <tr>
      <td>5.</td>
      <td>• Information about the protocols used in the internal vehicle architecture</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>• Depending on the chosen protocols: what components are communicating what information</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>• Development of software modules for handling data for each protocol</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="ex-vehicle-connectivity-concept">Ex-vehicle connectivity concept:</h2>

<p>The technology evolution in the automotive vehicles contributed to the demands for smarter mobility solutions. These solutions are focused on several types of V2X communication:</p>

<p>• Vehicle-2-Vehicle (V2V)</p>

<p>• Vehicle-2-Infrastructure/Infrastructure-2-Vehicle (V2I,I2V)</p>

<p>• Vehicle-2-Pedestrian (V2P) / Pedestrian-2-Vehicle (P2V)</p>

<p>• Vehicle-2-Network (V2N) / Network-2-Vehicle (N2V), 5) Infrastructure-2-Network (I2N) /
Network-2-Infrastructure (N2I).</p>

<p>These types along with their interactions are demonstrated in <span style="color:lightblue">Figure 4</span>.</p>

<p><img src="/ImageFile/V2XCommunicationType.png" alt="V2XCommunicationType" /></p>

<p><em>Figure 4. V2X communication types</em></p>

<p>The units supporting V2X communication are:</p>

<p>• <em>RoadSide unit (RSU)</em>: It is connected to road sensors (e.g. induction loops, cameras) and
a local control center, such that it performs actions or exchanges critical information other
vehicles or servers about road or traffic management.</p>

<p>• <em>OnBoard unit (OBU)</em>: The on-board unit (OBU) is a radio built-in vehicle device mounted on
each vehicle that transmits vehicle data (i.e. identification and location) to a transponder. The OBU itself is a transponder, that is, a data exchange takes place automatically and only on
request of one of the participating devices. It allows Vehicle-to-Vehicle (V2V) and Vehicle-to-Infrastructure (V2I, I2V) communications with other OBUs or RSUs.</p>

<p>• <em>Backend server</em> : It is composed by a PKI, traffic management and roadside unit management
servers, all accessible via the RSU’s or cellular base stations.
In order to facilitate this evolution a couple of solutions were defined that are split into 3 main categories:</p>

<p>• <em>5G radio access technologies</em>: This technology provides wide area, broadband access. The
5G technology is currently in the process of conceptual development and standardization by
the World Radiocommunication Conference (WRC). The 5G technology is expected to have
a specific V2X aspect of the 5G technology in a practical scale after 2020. However, in this
document we are leveraging the limited standardization to illustrate conceptually its main scope
and architectural view.</p>

<p>• <em>Pre-5G radio access technologies</em>: Multiple cellular technologies were identified by the ETSI
3rd Generation Partnership Project (3GPP), LoRa Alliance and other organizations, such as
Narrowband IoT , Long Term Evolution for Machines (LTE-M), LoRA are considered. Even though these technologies are already used in V2P/P2V, the main challenge when adopting them in other V2X communication types are reliability and safety, which are currently not addressed in the scope of Low-Power Wide Area Networks (LPWAN).</p>

<p>• <em>Non-cellular technologies providing wireless access</em>: IEEE has defined different standards for wireless communication, such as 802.11ac and 802.11p, however only 802.11p is flexible in
terms of throughput and offers higher reliability, even though its maximal throughout is more
limited than 802.11ac (from 3 to 27 Mbps raw data rate). The reason behind this is that
802.11p was designed particularly for for safety-related Vehicular Ad-hoc NETworks (VANET),
including the V2V and V2I/I2V concepts. IEEE 802.11p technology is currently fully specified
and already deployed in different locations. The following paragraphs start with a description of the scenarios supported by 802.11p communi-cation and cellular communication. This is followed by a description on both the 802.11p and 5G technologies. In the scope of this section we focus on these two technologies, because, to the best of our knowledge, they are considered as the leading candidates for V2X communication. <img src="../ReferenceFiles/.Appstacle_deliverable_1.1.pdf" alt="For detail information" /></p>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>It enables outward and inward communication between the vehicle and the external entity</td>
    </tr>
    <tr>
      <td>2.</td>
      <td>• No data processing as such.</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Re-Packs the data received from bus to appropriate format for the external entity and vice versa.</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>• It has the direct connection to the BUS and no direct user interaction.</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>• There will be multiple instances in the minimum two cases.</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>• Driver for hardware component</td>
    </tr>
    <tr>
      <td> </td>
      <td>• (Since Development Stage) Need manual configuration at the moment for 5G mm Radio.</td>
    </tr>
  </tbody>
</table>

<h2 id="app-runtime-concept">App Runtime concept:</h2>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>The APP Runtime provides the environment for executing APPs and starts / stops APPs. It has to provide and control resources for the APP, enforce access control (permissions), and isolate APPs from each other.</td>
    </tr>
    <tr>
      <td>2.</td>
      <td>APPs, configuration data (permissions, options, …), APP data</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>The APP Runtime permits or denies communication between APPs, or APP and backend (depending on “the policy”). The APP Runtime obtains APPs from the marketplace. It can be configured by the OEM and/or the vehicle owner (via backend and/or an in-vehicle user interface; probably also by devices [with authorization]).</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>There is one APP Runtime per in-vehicle platform. It could be part of the operating system.</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>Initialisation / start up: The APP Runtime is started during the (secure) boot process. It can be configured by the OEM and the vehicle owner (details are left open in this document), e.g., to configure permissions (“the policy”).</td>
    </tr>
  </tbody>
</table>

<h2 id="automotive-api-concept">Automotive API concept:</h2>

<p>The Application Programming Interface (API) for vehicles are introduced and discussed in here. The automotive API’s try to achieve (a) merging the potentially very complex device and network structure of a car into a single virtual device and (b) hiding the differences between manufacturers, models and makes behind a common interface. On the other hand these interfaces strongly differ in their scope (data-subset or use-case), technological approach and creators.</p>

<h3 id="autosar">AUTOSAR</h3>

<p>AUTomotive Open System ARchitecture (AUTOSAR) is a cooperation between car manufacturers,
OEMs and tool manufacturers and defines a software development paradigm for Electronic Control
Units (ECUs) in the automotive domain. In order to separate the development process of application software from the chosen ECU hardware platform, AUTOSAR is introducing a layer model with the three layers Application Software, Runtime Environment and Basic Software (illustrated IN <span style="color:lightblue">Figure 5</span>).</p>

<p><img src="/ImageFile/AutosarLayerModel.png" alt="Autosar Layer Models" /></p>

<p><em>Figure 4. Autosar Layers</em></p>

<p>The top layer is formed by the application software. It is divided into software components, each of which realizes a part of the application and can consume and provide data via so-called ports. Any communication that does not take place via port connections is forbidden. A port is classified via a port interface (here referred to as interface). Two ports can only be connected to each other if both ports use compatible interfaces.
Two important communication paradigms, that are selected by interfaces, are client-server and
sender-receiver communication. For client-server communication, a server component provides
functions (C, C++) which can be called by clients. A 1:n communication is also possible (i. e. a
server can provide its functionality to several clients). In sender-receiver communication, a sender provides data that can be consumed by receiver components. Both 1:n and m:1 communication is possible here (i.e. a date can be consumed by several components or several senders provide a date for one receiver concurrently). Many-to-many communication is not provided.</p>

<p>The lower layer consists of the basic software and contains the hardware drivers, the operating
system and the communication stack. The communication stack handles communication from and
to other ECUs that are connected via network interfaces like CAN, LIN, Flexray, automotive Ethernet, etc.</p>

<p>All communication, whether between software components on the upper level or between software
components and basic software on the lower level, is realized via the runtime environment (RTE),
which forms the middle layer. The RTE specification document defines a schema for API functions (C, C++), which are usually generated by code generators of the AUTOSAR modeling tools according to the modeled communication between software components and basic software. All communication must take place via the (generated) API functions. Other communication is not permitted. Likewise, all communication interfaces must be defined at the time of development, which makes it impossible to dynamically extend the software architecture at runtime. <img src=".Appstacle_deliverable_1.1.pdf" alt="For detail information" /></p>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>The Automotive API provides an interface to in-vehicle data for APPs (and cloud ser-vices? other entities??). An (operating system) service (“Automotive API server”) implements the Automotive API, for instance similar to the “Vehicle Information Service” specified by the W3C.</td>
    </tr>
    <tr>
      <td>2.</td>
      <td>Vehicle data (sensor data, diagnosis information, configuration of vehicle compo-nents, vehicle status information, …)</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>It can be used by APPs (and cloud services, etc.) to retrieve information from the vehicle, to send data to in-vehicle components, and to write (vehicle) configuration data.</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>There is one Automotive API per in-vehicle platform.</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>Initialisation / start up: The “Automotive API” service is started during the (secure) boot process.</td>
    </tr>
  </tbody>
</table>

<h2 id="apps-concept">Apps concept:</h2>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>(In-vehicle) APPs are programs that provide new features to the vehicle.</td>
    </tr>
    <tr>
      <td>2.</td>
      <td>App data (depends on APP / use case)</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>APPs are executed and controlled by the APP Runtime and can access in-vehicle data via the Automotive API. They can communicate with other entities via con-nectivity APIs (cf. architecture picture). If permitted (by “the policy”), they might communicate with cloud services (backend providers) and other APPs, and they could interact with the driver via a GUI (if available). APPs can access resources via the APP Runtime (subject to “the policy”). A user can install APPs from the Marketplace in the vehicle.</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>There can be multiple APPs per in-vehicle platform.</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>Initialisation / start up: APPs are started by the APP Runtime. Configuration data depends on the APP / use case.</td>
    </tr>
  </tbody>
</table>

<h2 id="device-management-client-concept">Device Management Client concept:</h2>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>The DM is responsible for keeping the devices compliant to the whole system land-scape. This starts with building up a base in communication and process protocols. It is also providing features for securely enrolling new devices, governing and con-figuring them while being out in the field, monitoring and debugging their behavior remotely and maintaining the devices with software updates. Four subjects can be distinguished:</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Enrollment includes provisioning and authentication for bringing new devices into an IoT landscape. The authentication assures that only trust-worthy devices are added to the network and connected to cloud services. Also only authorized users should be able to bring in new devices and gain access according to their roles granted.</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Governing contains features for controlling and configuring devices. As IT systems are often under a constant development, some parts change and so do some of their constants, for example network addresses or ports.</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Monitoring keeps an eye on all components of the system and their status. Reports and alerts for incidents are raised and logged. An on-time awareness of system issues is enabled. For diagnosis and solving software bugs it is also imperative to load log dumps remotely from devices.</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Maintenance with the ability to distribute and apply software updates is the fourth subject. The device management assures that the update is delivered and applied to the device according to the present constraints. Feedback mechanisms answer back to the cloud for a detailed status of the update.</td>
    </tr>
    <tr>
      <td>2.</td>
      <td><strong>Process</strong></td>
    </tr>
    <tr>
      <td> </td>
      <td>• System states</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Application states</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Update states</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Management Calls</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Push Calls</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Alarms</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Enrollment policies</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Updates, Update scheduling</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Inventory Hardware/Software listings</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Communication requests</td>
    </tr>
    <tr>
      <td> </td>
      <td><strong>Provide</strong></td>
    </tr>
    <tr>
      <td> </td>
      <td>• Access to resources through OMA-DM Management Objects (http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html)</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Management access through LwM2M)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Push Service (for notifying in-vehicle Applications form the cloud)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Monitoring Service</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Update Service (Maintanance)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Keep-Alive Signal Service</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Inventory Hardware/Software</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Enrollment Service</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Control Service (e.g. shutdown certain components)</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>• Apps, OS: (Re-)Configure, Update</td>
    </tr>
    <tr>
      <td> </td>
      <td>• ECU: Flashing/Updating ECUs</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Apps: Notify/Wake Up through push</td>
    </tr>
    <tr>
      <td> </td>
      <td>• HW/SW: Read Inventory</td>
    </tr>
    <tr>
      <td> </td>
      <td>• HW/SW: access on resource (if Management Object is defined)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• User: Update scheduling</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>The DM can only exist once per vehicle. But it is split into its functional groups (subjects). A hierarchical design of distributed DMs in a vehicle might be the subject of another design.</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>• Authentication Set (MAC, UUID, Public Key)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• Cloud contact</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Address of DM at the desired cloud</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Certificate</td>
    </tr>
  </tbody>
</table>

<h2 id="operating-system-os-concept">Operating System (OS) concept:</h2>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Property</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.</td>
      <td>The Operating System is the backbone any platform where it operates including In-vehicle platform. We also consider drivers as being part of the Operating system.</td>
    </tr>
    <tr>
      <td> </td>
      <td><em>Operating System</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>• consists of kernel and user space components</td>
    </tr>
    <tr>
      <td> </td>
      <td>• provides security</td>
    </tr>
    <tr>
      <td> </td>
      <td>• I/O and networking services to applications running in user space</td>
    </tr>
    <tr>
      <td> </td>
      <td>• runs on bare metal or hypervisor</td>
    </tr>
    <tr>
      <td> </td>
      <td>• OS kernel provides:</td>
    </tr>
    <tr>
      <td> </td>
      <td>– processes/thread management including scheduling</td>
    </tr>
    <tr>
      <td> </td>
      <td>– inter process communication</td>
    </tr>
    <tr>
      <td> </td>
      <td>– memory management</td>
    </tr>
    <tr>
      <td> </td>
      <td>– access to underlying HW</td>
    </tr>
    <tr>
      <td> </td>
      <td>– networking stacks</td>
    </tr>
    <tr>
      <td> </td>
      <td>– I/O stacks</td>
    </tr>
    <tr>
      <td> </td>
      <td>– security subsystem include:</td>
    </tr>
    <tr>
      <td> </td>
      <td>∗ access control (e.g. MAC)</td>
    </tr>
    <tr>
      <td> </td>
      <td>∗ crypto and key management</td>
    </tr>
    <tr>
      <td> </td>
      <td>∗ integrity measurement</td>
    </tr>
    <tr>
      <td> </td>
      <td>∗ entropy pools and gatherig entropy from variouos sources It is also important to highlight that the security hardening of an OS scrucial to the platform and application security</td>
    </tr>
    <tr>
      <td>2.</td>
      <td><strong>Process</strong></td>
    </tr>
    <tr>
      <td> </td>
      <td>• data to/from underlying HW</td>
    </tr>
    <tr>
      <td> </td>
      <td>• data to/from networking</td>
    </tr>
    <tr>
      <td> </td>
      <td>• data to/from file system</td>
    </tr>
    <tr>
      <td> </td>
      <td>• user input</td>
    </tr>
    <tr>
      <td> </td>
      <td>• data exchanged between kernel and user space</td>
    </tr>
    <tr>
      <td> </td>
      <td>• data exchanged between processes</td>
    </tr>
    <tr>
      <td> </td>
      <td>• configuration data such as security policies, system settings,..</td>
    </tr>
    <tr>
      <td> </td>
      <td><strong>Provide</strong></td>
    </tr>
    <tr>
      <td> </td>
      <td>• System state information (running processes, CPU utilization, etc.)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• log data</td>
    </tr>
    <tr>
      <td> </td>
      <td>• debug or diagnostics data if certain debug features are enabled</td>
    </tr>
    <tr>
      <td>3.</td>
      <td>• <em>Access to underlying HW</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– peripherals</td>
    </tr>
    <tr>
      <td> </td>
      <td>– networking interfaces</td>
    </tr>
    <tr>
      <td> </td>
      <td>– any physical interface</td>
    </tr>
    <tr>
      <td> </td>
      <td>– HW based crypto and key management functionality</td>
    </tr>
    <tr>
      <td> </td>
      <td>– HW based TRNG (True Random Number Generator)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• <em>App-Runtime (transport layer)</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– Provide transport layer interface for Apps (inter-app communication, app to cloud backend communication)</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Provide system level services (file access, etc.)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• <em>Device Management Client (transport layer)</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– Provide transport layer interface for communication with device management (cloud backend)</td>
    </tr>
    <tr>
      <td> </td>
      <td>• <em>5g Infrastructure (data link layer)</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– Connection Management</td>
    </tr>
    <tr>
      <td> </td>
      <td>• <em>Smartphone (data link layer)</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– Pairing</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Connection Management</td>
    </tr>
    <tr>
      <td> </td>
      <td>– Data Transfer</td>
    </tr>
    <tr>
      <td> </td>
      <td>• <em>Net-IDS</em></td>
    </tr>
    <tr>
      <td> </td>
      <td>– Provides Interface to allow the Net-IDS to monitor network traffic.</td>
    </tr>
    <tr>
      <td>4.</td>
      <td>Different subsystems on a vehicle may be running their own OSes</td>
    </tr>
    <tr>
      <td> </td>
      <td>• whether on bare metal or virtualized</td>
    </tr>
    <tr>
      <td> </td>
      <td>• whether micro kernel based, unikernel based or rich OS such as Linux</td>
    </tr>
    <tr>
      <td>5.</td>
      <td>• build and runtime OS configuration</td>
    </tr>
    <tr>
      <td> </td>
      <td>– for process, resource management, memory management, functionality, security,..</td>
    </tr>
    <tr>
      <td> </td>
      <td>– policies (e.g. security)</td>
    </tr>
    <tr>
      <td> </td>
      <td>– configuration of different processes</td>
    </tr>
    <tr>
      <td> </td>
      <td>– networking configuration</td>
    </tr>
    <tr>
      <td> </td>
      <td>• User credentials</td>
    </tr>
  </tbody>
</table>

<h2 id="84-overview-of-the-kuksa-in-vehicle-api">8.4 Overview of the Kuksa In-Vehicle API</h2>

<p>The Kuksa In-Vehicle API implementation is based on <a href="https://www.w3.org/TR/2018/CR-vehicle-information-service-20180213/">W3C Vehicle Information Service Specification</a>.</p>

<p>The implementation provides all the major funtionality defined in the above specification and also uses JWT Token for permissions handling with decent amount of uni-tests covering all the basic funtions. This project uses components from other open source projects namely</p>

<ol>
  <li><a href="https://gitlab.com/eidheim/Simple-WebSocket-Server">Simple-WebSocket-Server</a> which is under MIT license.</li>
  <li><a href="https://github.com/danielaparker/jsoncons">jsoncons</a> which is under Boost Software license.</li>
  <li><a href="https://github.com/Thalhammer/jwt-cpp">jwt-cpp</a> which is under MIT license.</li>
</ol>

<p>The overall details on how to build and run W3C as well as details of W3C VIS Server Implementation can be found from the repo <a href="https://github.com/eclipse/kuksa.invehicle/tree/master/w3c-visserver-api">link here</a>.</p>


    <div class="tags">
        
    </div>



    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idratherbewriting'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2019 Your company. All rights reserved. <br />
 Site last generated: Dec 11, 2019 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-66296557-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
